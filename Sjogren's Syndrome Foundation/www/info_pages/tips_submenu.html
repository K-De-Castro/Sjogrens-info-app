<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <link rel="stylesheet" type="text/css" href="../CSS/Information.css">
    <link rel="stylesheet" type="text/css" href="../CSS/W3.css">
    <link rel="stylesheet" type="text/css" href="../CSS/index.css">
    <script src="../js/java.js"></script>
    <script src="../js/jquery.js"></script>
</head>

<body>
    <div class="w3-top">
        <div class="w3-bar w3-top w3-left-align w3-large info_navbar">
            <a href="tips_menu.html" class="w3-bar-item w3-button w3-left" id = "backbutton"><img src = "../Images/backarrow.png"></a>
        </div>
    </div>
    <div class = "spacer">
    </div>
<div class="textcontainer">
    <div class="btn-group" id="list">
        <script>
        
        var getUrlParameter = function getUrlParameter(sParam) {
            var sPageURL = decodeURIComponent(window.location.search.substring(1)),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;

            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');

                if (sParameterName[0] === sParam) {
                    return sParameterName[1] === undefined ? true : sParameterName[1];
                }
            }
        };
        
        $(document).ready(function(){
            var file = getUrlParameter('page');
            console.log(file);
            var pages = sessionStorage.getItem('file');
            if (pages == null){
                $.when(
                    $.getJSON(("../tips/tips_"+file+".json")),
                    $.ready
                ).done(function( data ) {
                    console.log(data[0]['files'][0]['title']);
                    sessionStorage.setItem(file, data[0]['files']);
                    pages = data[0]['files'];
                });
            }
            var line = "<a style = \"text-decoration: none\" href=\"tips_page.html\"> <button class=\"w3-button w3-blue w3-round-large\" ";
            console.log(line);
            for (x in pages){
                console.log(x);
            }
            try{
                var i = 0;
                while (pages    [i]['title']){
                    var temp = (line + "id=\"" + page[i]['title'] + "\" >" + pages[i]['title'] + "</button></a>");
                    console.log(temp);
                    document.getElementById('list').innerHTML += (line + "id=\"" + pages[i]['title'] + "\" >" + pages[i]['title'] + "</button></a>");
                    i++;
                }
            } catch (error){
            }
        });
        $("button").click(function(){
                for (p in pages.files){
                    if (p.title == this.id){
                        sessionStorage.setItem('toload', p);
                        break;
                    }
                }
            });
            
    </script>
    </div>
</div>
</body>
</html>